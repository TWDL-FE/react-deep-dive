## 리액트 17 버전

다음 버전 업을 위한 발판정도로, 사용자에게 영향이 크지 않도록 변화를 최소화 했다.

- 점진적 업그레이드
  - 한 애플리케이션 내에 여러 버전의 리액트가 존재할 수 있다.
  - 다만, 이건 임시방편이고 가능하면 리액트 버전 하나만 쓰자.
- 이벤트 위임 방식 변화
  - 리액트는 개별 DOM 요소에 이벤트 핸들러를 추가하는게 아닌, DOM 루트(최상위 div)에 추가한다.
  - 앞의 점진적 업그레이드 호환을 위해서 `document`가 아닌 DOM 루트를 선택했다. 이벤트 버블링으로 인한 혼선을 막기위해 리액트 버전별로 이벤트 핸들러가 추가된다.
- 더 이상 필요 없는 `import React from ‘react’`
  - jsx는 브라우저가 이해할 수 없는 코드이므로 바벨이나 ts로 js 변환 과정을 거쳤다.
  - 바벨은 코드를 변환은 하지만, `import React from ‘react’`를 추가해주진 않았다. 그래서 `import`를 매번 추가해야 했다.
  - 이제는 바벨과의 협력으로 `import` 없이 jsx를 변환할 수 있다.
- 이벤트 풀링 제거
  - 이벤트를 처리할 때 브라우저 이벤트를 래핑하는데, `SyntheticEvent`라 한다.
  - 이벤트마다 새로 만들어야하고, 주기적으로 해제해야 한다.
  - 메모리 차지와 미미한 성능 향상을 이유로 삭제되었다.
- `useEffect` 클린업 함수의 비동기 실행
  - 이제 화면이 완전히 업데이트된 이후에 클린업 함수가 비동기적으로 실행된다.
  - 동기 → 비동기로 바뀌면서 미미하지만 성능의 이점을 얻었다.
- 컴포넌트의 `undefined` 반환에 대한 일관적인 처리
  - 컴포넌트가 `undefined`를 반환하면 에러가 났지만, `forwardRef`, `memo`를 사용한 컴포넌트는 예외였다.
  - 이제는 이들도 모두 에러가 발생하도록 처리되었다.
  - 참고로, 리액트 18은 컴포넌트가 `undefined`를 반환해도 에러가 나지 않는다.
